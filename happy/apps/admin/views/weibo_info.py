#!/usr/bin/env python#-*- coding: utf-8 -*-from apps.common.http_util import render,redirectfrom django.conf import settingsfrom cache.mccache import MemcacheClientimport redisimport pickleweibo_info_list = [              ('/admin/weibo_info/',"微博用户信息"),              ('/admin/weibo_info/',"weibo发布时间统计"),              ('/admin/weibo_info/',"weibo发布时间统计"),              ('/admin/weibo_info/',"weibo发布时间统计"),              ]weibo_infos = {'weibo_name':"微博名称",               'fans_count':"粉丝数",               'everyday_weibo_count':"每日微博数",               'everyday_comment':"每日评论",               'everyday_transmit':"每日转发",               'everyday_praise':"每日赞",               'everyday_participate':"平均用户参与度",               'everyday_sendtime':"平均发微博时间",               'everyday_commenttime':"用户平均评论时间",               }mc = MemcacheClient({"servers":"localhost:11211","default_timeout":0})rd = redis.Redis(host='localhost', port=6379, db=1)def weibo_users(request):    """    微博用户统计    """    data = {'url_list':weibo_info_list}        return render("admin/weibo_users.html", data, request)def weibo_info(request):    """    微博信息    """    data = {'url_list':weibo_info_list,'weibo_infos':weibo_infos}    shishang = pickle.loads(rd.get('weibo_type_shishang'))        data['wb_user'] = shishang    return render("admin/weibo_info.html", data, request)